<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mangal Script Typing Practice</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            height: 100vh;
            background-color: #f7f7f7;
            margin: 0;
            padding: 10px;
        }
        .editor-container {
            width: 100%;
            max-width: 600px; /* Reduce max width for better mobile fit */
        }
        h1 {
            font-size: 1.5rem;
            text-align: center;
        }
        textarea {
            width: 100%;
            height: 60vh; /* Dynamic height for mobile devices */
            padding: 10px;
            font-size: 18px;
            font-family: 'Mangal', 'Devanagari', sans-serif;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            direction: ltr;
            resize: none; /* Disable resizing */
        }
        /* Ensures mobile responsiveness */
        @media (max-width: 600px) {
            textarea {
                height: 80vh;
                font-size: 16px;
            }
            h1 {
                font-size: 0.5rem;
            }
        }
    </style>
</head>
<body>

<div class="editor-container">
    <h1>Mangal Script Typing Practice</h1>
    <textarea id="hindiTextarea" placeholder="Type here..." autofocus></textarea>
</div>

<script>
    // Map of key codes to Mangal script characters (Inscript-like layout)
    const hindiKeyMap = {
        // Vowels
        'a': 'ो', 'A': 'ओ', 'i': 'ि', 'I': 'ई', 'u': 'ु', 'U': 'ऊ',
        'e': 'े', 'E': 'ऐ', 'o': 'ो', 'O': 'औ', 'O': 'ू',
        // Consonants
        'k': 'क', 'K': 'ख', 'g': 'ग', 'G': 'घ', 'c': 'च', 'C': 'छ', 
        'j': 'ज', 'J': 'झ', 'T': 'ट', 'D': 'ड', 'N': 'ण', 't': 'त', 
        'd': 'द', 'n': 'न', 'p': 'प', 'P': 'फ', 'b': 'ब', 'B': 'भ', 
        'm': 'म', 'y': 'य', 'r': 'र', 'l': 'ल', 'L': 'ळ', 'v': 'व', 
        'S': 'श', 's': 'स', 'H': 'ह', 'x': 'क्ष', 'q': 'त्र', 'z': 'ज्ञ',
        // Special characters
        'f': 'फ', 'F': 'फ़', 'w': 'व', 'W': 'व', 'X': 'ष', 'Z': 'ज़',
        // Matras (vowel signs)
        'M': 'ं', 'H': 'ः', 'N': 'ँ', 
        // Conjuncts and half-forms
        'h': 'ह', 
        // Diacritics and signs
        'X': '़', 'R': '्र', 
        // Numbers
        '1': '१', '2': '२', '3': '३', '4': '४', '5': '५', '6': '६', '7': '७', '8': '८', '9': '९', '0': '०',
        // Other signs
        '-': '।', '=': 'ऽ'
    };

    const hindiTextarea = document.getElementById('hindiTextarea');

    hindiTextarea.addEventListener('keypress', function (event) {
        const key = event.key;

        // If the key is in the mapping, prevent the default behavior
        if (hindiKeyMap[key]) {
            event.preventDefault();

            // Insert the mapped Hindi character
            const hindiCharacter = hindiKeyMap[key];
            insertAtCursor(hindiTextarea, hindiCharacter);
        }
    });

    // Helper function to insert text at the cursor position
    function insertAtCursor(textArea, text) {
        const start = textArea.selectionStart;
        const end = textArea.selectionEnd;
        const before = textArea.value.substring(0, start);
        const after = textArea.value.substring(end, textArea.value.length);
        textArea.value = before + text + after;

        // Move the cursor after the inserted character
        textArea.selectionStart = textArea.selectionEnd = start + text.length;
    }
</script>

</body>
</html>
